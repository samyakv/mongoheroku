<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
 
  <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />

  <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <script type="text/javascript" src="js/jquery.flexibleArea.js"></script>


  <link rel="stylesheet" href="fonts/icomoon/style.css">

  <!-- <link rel="stylesheet" href="fonts/icomoon/style.css"> -->
  <!-- <link rel="stylesheet" href="css/contact.css"> -->
  <link rel="stylesheet" href="css/navstyler.css">
  <link rel="stylesheet" href="css/index1.css">


</head>

<body>


  












  



    <!-- ONE TWO GREEN -->
    <div class="container-fluid pt-3 pt-sm-0 bg-light div-last gilroy" id="green">
      <div class="row mt-5 d-flex align-items-center">
       

        <div class="col-12 sub-body">

          <div class="col mb-5">
            <h2>Interested in updates?</h2>
            <h6>Join the newsletter</h6>
          </div>

          <div id="cuboid">
            <iframe id="uploader_iframe" name="uploader_iframe" style="display: none;"></iframe>
            
            <form action="/sign_up" method="POST" id="myForm" target="uploader_iframe">

              <div>
                <p class="cuboid-text">Subscribe</p>
              </div>

              <div>

                <label for="submit" class="submit-icon">
                  <i class="fa fa-chevron-right"></i>
                </label>
                <input type="text" id="email" class="cuboid-text" placeholder="Your Email" autocomplete="off" name="email"/>

                <input type="submit" id="submit" name="submit" class="submit" formaction="/sign_up" formmethod="POST"/>
              </div>

              <div>
                <p class="cuboid-text loader">Just a moment ...
                  <i class="fa fa-spinner fa-pulse"></i>
                </p>
              </div>
              <div>

                <span class="reset-icon"><i class="fa fa-refresh"></i></span>
                <p class="cuboid-text">Thankyou, we'll be in touch</p>
              </div>
            </form>
          </div>
          <div id="demo1" class="mt-2" style="visibility: hidden;">Please enter a valid address</div>
        </div>
      </div>
    </div>


    <script>
     $('#submit').keypress(function(e) {
    if (e.keyCode == $.ui.keyCode.ENTER) {
          //Close dialog and/or submit here...
    }
});
    </script>


  

  <!-- SINGLE SUB -->
  <script>
    $("#email").focus(function () {
      $("#cuboid form").addClass("ready");
  
    })
    //remove '.ready' when user blus away but only if there is no content
    $("#email").blur(function () {
      if ($(this).val() == "")
        $("#cuboid form").removeClass("ready");
    
    })

    //If the user is typing something make the arrow green/.active
    $("#email").keyup(function () {
      //this adds .active class only if the input has some text
      $(".submit-icon").toggleClass("active", $(this).val().length > 0);
  
    })

    $("#cuboid #myForm").submit(function () {
      const re = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;
  const email=document.getElementById("email").value;
  const re1='abcd';
  console.log(email);
      
      //prevent default form submisson
      if(re.test(String(email).toLowerCase())){
        console.log("true");
        document.getElementById("demo1").style.visibility="hidden";
        $(this).removeClass("ready").addClass("loading");
        setTimeout(complete, 3000);
      return true;}
      else{
        document.getElementById("demo1").style.visibility="visible";
        // setTimeout(complete, 1000);
      return false;
      }
    })
    

    function complete() {
      $("#cuboid form").removeClass("loading").addClass("complete");
    }
    //reset/refresh functionality
    $(".reset-icon").click(function () {
      $("#cuboid form").removeClass("complete");
  
    })




  </script>
</body>

</html>